prompt que gerou o planejamento:
vou te propor um sistema e vc me diz quais principios vc escolheria pra desenvolver, sem mostrar nenhum código por enquanto, só dizer o que precisamos ter em mente para desenvolver.
O sistema é uma automação de atendimento para o whatsapp, onde a empresa tem diferentes departamentos e uma IA com informações sobre a empresa. Quando uma mensagem chega ele precisa determinar se é um cliente ou funcionário, isso pode ser feito verificando se existe um funcionario com esse numero, ja que os funcionários são manualmente cadastrados, se não pertencer a um funcionario, logicamente é um cliente. Supondo que é um cliente, se o atendimento dele estiver começando ali naquele momento, ele deve receber o "menu" para que ele saiba o que ele pode fazer. No caso um cliente tem as opções de ver um FAQ existente sobre a empresa, pode escolher um dos departamentos existentes para poder ser atendido ou conversar com a IA. Se ele escolher a opção de FAQ, ele receberá como resposta as categorias existentes de FAQ, e quando ele escolher uma delas aí sim ele recebe as perguntas pertencentes à categoria. Se ele escolher a IA, obviamente a mensagem dele sera redirecionada para a IA e ele recebera como resposta o que a IA gerou. Se ele escolher um dos departamentos, ele deve ser colocado na fila de espera do departamento, isso é importante, a conversa entre o funcionário e o cliente só começa quando o funcionário quiser, enquanto o funcionário não fizer nada, todos os clientes que quiserem conversar com um departamento X ficarão na fila de espera do departamento X, as filas são exclusivas de cada departamento. Outro detalhe sobre as filas, se um cliente vai ser atendido ele é removido da fila, então são duas possibilidades de um cliente sair da fila, ou ele decidiu por ele mesmo sair da fila mesmo sem ter sido atendido, ou o atendimento dele começou. Esse é o desafio, já que a entrada que o sistema recebe é a mensagem em sí, o numero de quem enviou e o numero do destinatário, então cabe ao sistema ser capaz de mesmo só com essas informações conseguir determinar em qual dessas situações que eu descrevi é a situação atual do cliente.